FROM python:3.12

RUN mkdir /Backend
WORKDIR /Backend

ENV PYTHONDONTWRITEBYTECODE 1
ENV PYTHONUNBUFFERED 1  

RUN pip3 install fastapi uvicorn
RUN pip3 install --upgrade pip  

COPY . /Backend
run sudo apt-get install gcc

RUN apt-get update
RUN apt-get update && apt-get install -y tdsodbc unixodbc-dev \ && apt install unixodbc-bin -y \ && apt-get clean -y
RUN echo "[FreeTDS]\n\ Description = FreeTDS unixODBC Driver\n\ Driver = /usr/lib/arm-linux-gnueabi/odbc/libtdsodbc.so\n\ Setup = /usr/lib/arm-linux-gnueabi/odbc/libtdsS.so" >> /etc/odbcinst.ini



RUN pip3 install -r requirements.txt


RUN apt update
RUN ls -l



EXPOSE 2024

CMD uvicorn index:app --host 0.0.0.0 --port 2024