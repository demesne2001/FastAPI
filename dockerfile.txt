FROM python:3.12

RUN mkdir /Backend
WORKDIR /Backend

ENV PYTHONDONTWRITEBYTECODE 1
ENV PYTHONUNBUFFERED 1  

RUN pip3 install fastapi uvicorn
RUN pip3 install --upgrade pip  

COPY . /Backend
run sudo apt-get install gcc

RUN [FreeTDS]Description=FreeTDS Driver Driver=/usr/lib/x86_64-linux-gnu/odbc/libtdsodbc.so Setup=/usr/lib/x86_64-linux-gnu/odbc/libtdsS.so
ADD odbcinst.ini /etc/odbcinst.ini
RUN apt-get update
RUN apt-get install -y tdsodbc unixodbc-dev
RUN apt install unixodbc-bin -y
RUN apt-get clean -y


RUN pip3 install -r requirements.txt


RUN apt update
RUN ls -l



EXPOSE 2024

CMD uvicorn index:app --host 0.0.0.0 --port 2024